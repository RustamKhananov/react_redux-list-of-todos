{"version":3,"sources":["store/index.ts","components/Todo.tsx","components/Todos.tsx","api.tsx","App.tsx","index.tsx"],"names":["getIsLoaded","state","isLoaded","initialState","loading","buttonText","users","todos","sortField","customTodos","getSortedTodos","sort","a","b","user","name","localeCompare","title","completed","store","createStore","action","type","composeWithDevTools","connect","dispatch","setCustomTodos","todo","className","onClick","filter","item","id","sortedTodos","setSortField","value","onChange","event","target","map","Todo","baseURL","setIsLoaded","setButtonText","useSelector","Promise","all","fetch","then","responce","json","userId","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4f9421d4.chunk.js","sourcesContent":["import { createStore, AnyAction } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { RootState } from '../types';\n\n// Action types - is just a constant. MUST have a unique value.\nconst START_LOADING = 'START_LOADING';\nconst FINISH_LOADING = 'FINISH_LOADING';\nconst SET_SORT_FIELD = 'SET_SORT_FIELD';\nconst SET_CUSTOM_TODOS = 'SET_CUSTOM_TODOS';\nconst SET_IS_LOADED = 'SET_IS_LOADED';\nconst SET_BUTTON_TEXT = 'SET_BUTTON_TEXT';\n\n// Action creators - a function returning an action object\nexport const startLoading = () => ({ type: START_LOADING });\nexport const finishLoading = (message = 'No message') => ({ type: FINISH_LOADING, message });\n\n// Selectors - a function receiving Redux state and returning some data from it\nexport const isLoading = (state: RootState) => state.loading;\nexport const getIsLoaded = (state: RootState) => state.isLoaded;\nexport const getButtonText = (state: RootState) => state.buttonText;\nexport const getSortField = (state: RootState) => state.sortField;\n\nconst initialState: RootState = {\n  loading: false,\n  isLoaded: false,\n  buttonText: 'Click to load',\n  users: [],\n  todos: [],\n  sortField: 'title',\n  customTodos: [],\n};\n\nexport const getSortedTodos = ({ sortField, customTodos }: RootState) => {\n  switch (sortField) {\n    case 'UserName':\n      return [...customTodos].sort((a, b) => a.user.name.localeCompare(b.user.name));\n    case 'Title':\n      return [...customTodos].sort((a, b) => a.title.localeCompare(b.title));\n    case 'Completed':\n      return [...customTodos].sort((a, b) => +a.completed - +b.completed);\n    default:\n      return [...customTodos];\n  }\n}\n\n// rootReducer - this function is called after dispatching an action\nconst rootReducer = (state = initialState, action: AnyAction) => {\n  switch (action.type) {\n    case START_LOADING:\n      return { ...state, loading: true };\n    case SET_SORT_FIELD:\n      return { ...state, sortField: action.sortField };\n    case SET_BUTTON_TEXT:\n      return { ...state, buttonText: action.buttonText };\n    case SET_CUSTOM_TODOS:\n      return { ...state, customTodos: action.customTodos };\n    case SET_IS_LOADED:\n      return { ...state, isLoaded: action.isLoaded };\n    case FINISH_LOADING:\n      return {\n        ...state,\n        loading: false,\n        buttonText: action.buttonText,\n      };\n    default:\n      return state;\n  }\n};\n\n// The `store` should be passed to the <Provider store={store}> in `/src/index.tsx`\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(), // allows you to use http://extension.remotedev.io/\n);\n\nexport default store;\n","\nimport React from 'react';\nimport { CustomTodo, RootState } from '../types';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\n\nconst TodoTemplate = ({\n  todo,\n  setCustomTodos,\n  customTodos\n}: {\n  todo: CustomTodo\n  setCustomTodos: (customTodos: CustomTodo[]) => void;\n  customTodos: CustomTodo[];\n}) => {\n  return (\n    <div className=\"Todo\">\n      <p><strong>Todo:</strong>{todo.title}</p>\n      <p>\n        <strong>\n          Is completed:\n          </strong>\n        {todo.completed ? \"Uncompleted\" : \"Completed\"}\n      </p>\n      <p><strong>User name: </strong>{todo.user.name}</p>\n      <button\n        onClick={() => {\n          setCustomTodos(customTodos.filter((item: CustomTodo) => item.id !== todo.id))\n        }}\n        className=\"Todo__button\"\n      >Delete</button>\n    </div>\n  )\n}\n\nconst mapDispatch = (dispatch: Dispatch) => ({\n  setCustomTodos: (customTodos: CustomTodo[]) => dispatch({\n    type: 'SET_CUSTOM_TODOS',\n    customTodos\n  })\n})\n\nconst mapState = (state: RootState) => ({\n  customTodos: state.customTodos,\n})\n\nexport default connect(mapState, mapDispatch)(TodoTemplate)\n","\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { getSortedTodos } from '../store';\nimport { RootState, CustomTodo } from '../types';\nimport TodoTemplate from './Todo';\nimport { Dispatch } from 'redux';\n\nconst Todos = ({\n  sortField,\n  setSortField,\n  sortedTodos\n}: {\n  sortField: string;\n  setSortField: (sortField: string) => Object;\n  sortedTodos: CustomTodo[]\n}) => {\n\n  return (\n    <>\n      <span>Sort type:  </span>\n      <select\n        value={sortField}\n        onChange={(event) => {\n          setSortField(event.target.value)\n        }}\n      >\n        <option value=\"Title\">Title</option>\n        <option value=\"UserName\">UserName</option>\n        <option value=\"Completed\">Completed</option>\n      </select>\n      <ul>\n        {sortedTodos.map((todo: CustomTodo) => (\n          <li>\n            <TodoTemplate todo={todo} />\n          </li>\n        ))}\n      </ul>\n    </>\n  )\n}\n\nconst mapStateToProps = (state: RootState) => ({\n  sortedTodos: getSortedTodos(state),\n  sortField: state.sortField,\n})\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  setSortField: (sortField: string) => {\n    return dispatch({ type: 'SET_SORT_FIELD', sortField })\n  }\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Todos);\n","\nimport { CustomTodo, Todo, User } from './types';\n\nconst baseURL = \"https://mate-academy.github.io/react_dynamic-list-of-todos/api/\"\n\nexport const getUsers = () => {\n  return fetch(baseURL + \"users.json\")\n    .then(responce => responce.json())\n}\nexport const getTodos = () => {\n  return fetch(baseURL + \"todos.json\")\n    .then(responce => responce.json())\n}\n\nexport const getCustomTodos = () => {\n  return Promise.all([getUsers(), getTodos()]).then(([users, todos]) => {\n    const customTodos: CustomTodo[] = todos.map((todo: Todo) => {\n      return ({\n        ...todo,\n        user: users.filter((user: User) => user.id === todo.userId)[0]\n      })\n    })\n    return customTodos;\n  })\n}\n\n\n\n","import React from 'react';\nimport './App.scss';\nimport Todos from './components/Todos';\nimport { connect, useSelector } from 'react-redux';\nimport { getIsLoaded } from './store'\nimport { CustomTodo, RootState } from './types';\nimport { getCustomTodos } from './api';\n\nconst App = ({\n  buttonText,\n  setCustomTodos,\n  setButtonText,\n  setIsLoaded\n}: {\n  setCustomTodos: (customTodos: CustomTodo[]) => void;\n  setIsLoaded: (isLoaded: boolean) => void;\n  setButtonText: (buttonText: string) => void;\n  buttonText: string;\n}) => {\n\n  const handleButtonClick = () => {\n    setButtonText('Data is loaded now...')\n    getCustomTodos().then(customTodos => {\n      setCustomTodos(customTodos);\n      setIsLoaded(true);\n    });\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>Redux list of todos</h1>\n      {useSelector(getIsLoaded)\n        ? <Todos />\n        : <button\n          onClick={handleButtonClick}\n        >{buttonText}</button>}\n    </div>\n  );\n};\n\nconst mapState = (state: RootState) => ({\n  isLoaded: state.isLoaded,\n  buttonText: state.buttonText,\n})\n\nconst mapDisp = (dispatch: any) => ({\n  setCustomTodos: (customTodos: CustomTodo[]) => dispatch({\n    type: 'SET_CUSTOM_TODOS',\n    customTodos\n  }),\n  setIsLoaded: (isLoaded: boolean) => dispatch({\n    type: 'SET_IS_LOADED',\n    isLoaded\n  }),\n  setButtonText: (buttonText: string) => dispatch({\n    type: 'SET_BUTTON_TEXT',\n    buttonText\n  }),\n})\n\nexport default connect(mapState, mapDisp)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport store from './store';\nimport App from './App';\n\n// Just a convenient component with all the wrappers for the `App`\n// The Router component (if you use it) should be placed inside the Provider\nconst Root = () => (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}